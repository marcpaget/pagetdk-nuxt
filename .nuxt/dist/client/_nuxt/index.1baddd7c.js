import{C as T,D as M,E as g,F as D,u as I,G as P,h as x,H as _,x as L,I as W}from"./entry.f00c1bb3.js";function w(e){return T()?(M(e),!0):!1}function h(e){return typeof e=="function"?e():I(e)}const A=typeof window<"u",F=()=>{};function G(e,t,o={}){const{immediate:l=!0}=o,n=g(!1);let a=null;function f(){a&&(clearTimeout(a),a=null)}function s(){n.value=!1,f()}function r(...c){f(),n.value=!0,a=setTimeout(()=>{n.value=!1,a=null,e(...c)},h(t))}return l&&(n.value=!0,A&&r()),w(s),{isPending:D(n),start:r,stop:s}}function H(e){var t;const o=h(e);return(t=o==null?void 0:o.$el)!=null?t:o}const R=A?window:void 0,C=A?window.navigator:void 0;function B(...e){let t,o,l,n;if(typeof e[0]=="string"||Array.isArray(e[0])?([o,l,n]=e,t=R):[t,o,l,n]=e,!t)return F;Array.isArray(o)||(o=[o]),Array.isArray(l)||(l=[l]);const a=[],f=()=>{a.forEach(i=>i()),a.length=0},s=(i,d,p,v)=>(i.addEventListener(d,p,v),()=>i.removeEventListener(d,p,v)),r=_(()=>[H(t),h(n)],([i,d])=>{f(),i&&a.push(...o.flatMap(p=>l.map(v=>s(i,p,v,d))))},{immediate:!0,flush:"post"}),c=()=>{r(),f()};return w(c),c}function N(){const e=g(!1);return L()&&W(()=>{e.value=!0}),e}function S(e){const t=N();return x(()=>(t.value,!!e()))}function V(e={}){const{navigator:t=C,read:o=!1,source:l,copiedDuring:n=1500,legacy:a=!1}=e,f=["copy","cut"],s=S(()=>t&&"clipboard"in t),r=x(()=>s.value||a),c=g(""),i=g(!1),d=G(()=>i.value=!1,n);function p(){s.value?t.clipboard.readText().then(u=>{c.value=u}):c.value=E()}if(r.value&&o)for(const u of f)B(u,p);async function v(u=h(l)){r.value&&u!=null&&(s.value?await t.clipboard.writeText(u):y(u),c.value=u,i.value=!0,d.start())}function y(u){const m=document.createElement("textarea");m.value=u??"",m.style.position="absolute",m.style.opacity="0",document.body.appendChild(m),m.select(),document.execCommand("copy"),m.remove()}function E(){var u,m,b;return(b=(m=(u=document==null?void 0:document.getSelection)==null?void 0:u.call(document))==null?void 0:m.toString())!=null?b:""}return{isSupported:r,text:c,copied:i,copy:v}}function $(e={}){const{enableHighAccuracy:t=!0,maximumAge:o=3e4,timeout:l=27e3,navigator:n=C,immediate:a=!0}=e,f=S(()=>n&&"geolocation"in n),s=g(null),r=P(null),c=g({accuracy:0,latitude:1/0,longitude:1/0,altitude:null,altitudeAccuracy:null,heading:null,speed:null});function i(y){s.value=y.timestamp,c.value=y.coords,r.value=null}let d;function p(){f.value&&(d=n.geolocation.watchPosition(i,y=>r.value=y,{enableHighAccuracy:t,maximumAge:o,timeout:l}))}a&&p();function v(){d&&n&&n.geolocation.clearWatch(d)}return w(()=>{v()}),{isSupported:f,coords:c,locatedAt:s,error:r,resume:p,pause:v}}export{$ as a,V as u};
