import{F as B,_ as R}from"./fuse.esm.e5f0aacd.js";import{o as c,h as u,f as _,a as S,C as v,aQ as j,m as d,aa as I,a7 as L,i as s,w as l,F as f,u as i,K as P,D as U,A as E,l as W,t as h,c as q,aj as z,ac as A}from"./entry.902f663c.js";import{_ as G}from"./NCodeBlock.vue.f20ad1f9.js";import{_ as H}from"./NPanelGrids.0426d51d.js";import{_ as K}from"./PanelLeftRight.vue.583d184f.js";import{_ as Q}from"./HelpFab.vue.665e0424.js";import"./NTextInput.vue.361fd6cd.js";import"./NIconButton.vue.43ec44ac.js";const T={class:"markdown-body"},J=_("h1",null,"Virtual Files",-1),M=_("p",null,"Virtual files are generated on the fly to support the conventions of the framework, and to provide a better developer experience.",-1),O=[J,M],X={__name:"virtual-files",setup(x,{expose:o}){return o({frontmatter:{}}),(p,a)=>(c(),u("div",T,O))}},Y=_("div",{"x-divider":""},null,-1),Z={key:0,"h-full":"","of-hidden":"",flex:"~ col"},ee={border:"b base","flex-none":"",px4:"",py2:"","text-sm":"",op75:""},te=_("span",{op75:""},"Select a file to start",-1),_e=S({__name:"virtual-files",setup(x){const o=v(""),n=j(),p=d(()=>I().query?.id),a=v();L(()=>{if(!p.value)return;const e=`/_vfs.json/${encodeURIComponent(p.value)}`;fetch(e).then(t=>t.json()).then(t=>a.value=t.current)});function y(e){if(n.value?.rootDir)return e.startsWith(n.value?.rootDir)?e.slice(n.value.rootDir.length):e}const m=d(()=>n.value?n.value.entries.filter(e=>!e.id.startsWith(`${n.value?.rootDir||""}/.nuxt/`)).sort((e,t)=>e.id.localeCompare(t.id)):[]),g=d(()=>new B(m.value,{keys:["id","path"]})),k=d(()=>o.value?g.value.search(o.value).map(e=>e.item):m.value);return(e,t)=>{const $=R,b=z,F=G,C=A,N=H,D=K,V=X,w=Q;return c(),u(f,null,[s(D,{class:"virtual-files","storage-key":"tab-virtual-files"},{left:l(()=>[s($,{search:i(o),"onUpdate:search":t[0]||(t[0]=r=>P(o)?o.value=r:null),"no-padding":"",p3:""},null,8,["search"]),(c(!0),u(f,null,U(i(k),r=>(c(),u(f,{key:r.id},[s(b,{block:"","select-none":"",truncate:"",px2:"",py1:"","font-mono":"","text-sm":"",to:`/modules/virtual-files?id=${encodeURIComponent(r.id)}`,class:E(r.id===i(a)?.id?"text-primary n-bg-active":"text-secondary hover:n-bg-hover")},{default:l(()=>[W(h(y(r.id)),1)]),_:2},1032,["to","class"]),Y],64))),128))]),right:l(()=>[i(a)?.content?(c(),u("div",Z,[_("div",ee,[_("code",null,h(i(a).id),1)]),s(F,{"h-full":"","of-auto":"","text-sm":"",code:i(a).content,lang:"typescript"},null,8,["code"])])):(c(),q(N,{key:1},{default:l(()=>[s(C,{px6:"",py2:""},{default:l(()=>[te]),_:1})]),_:1}))]),_:1}),s(w,null,{default:l(()=>[s(V)]),_:1})],64)}}});export{_e as default};
