"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.onClickOutside = exports.default = exports.ClickOutsideDirective = void 0;
var _helpers = require("@inkline/inkline/helpers");
const onClickOutside = (element, binding) => e => {
  if (!(0, _helpers.isVisible)(element) || !e.target) {
    return;
  }
  if (element === e.target || element.contains(e.target)) {
    return;
  }
  binding.value(e);
};
exports.onClickOutside = onClickOutside;
const ClickOutsideDirective = {
  beforeMount(element, binding) {
    if (typeof window !== "undefined") {
      (0, _helpers.on)(window.document, "mousedown", onClickOutside(element, binding));
    }
  }
};
exports.ClickOutsideDirective = ClickOutsideDirective;
var _default = ClickOutsideDirective;
module.exports = _default;